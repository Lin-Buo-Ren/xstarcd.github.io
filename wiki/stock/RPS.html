<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="Stylesheet" type="text/css" href="../styles/style.css" />
    <title>欧奈尔RPS曲线的编制方法及常见问题解答（20170505）</title>
</head>
<body>
<div id="header">
    <ul id="top-nav">
    <li><a href="../index.html">首页</a></li>
    <li><a href="index.html">分类首页</a></li>
    </ul>
</div>
<div id="cse"></div>
<div id="main">

<h1>欧奈尔RPS曲线的编制方法及常见问题解答（20170505）</h1>
<div class="toc">
<ul>
<li><a href="#toc_0.1">第一步，新建自定义板块:上市一年以上</a>
<li><a href="#toc_0.2">第二步，新建一个技术指标的公式</a>
<li><a href="#toc_0.3">第三步，建立扩展数据，对股票涨幅进行排序</a>
<li><a href="#toc_0.4">第四步，再新建一个技术指标公式：股价相对强度RPS</a>
<li><a href="#toc_0.5">第五步，确保下载完整的历史数据</a>
<li><a href="#toc_0.6">常见问题及解答</a>
</ul>
</ul>
</div>

<ul>
<li>
陶博士 陶博士2006 2017-05-05

<li>
原文:<a href="https://mp.weixin.qq.com/s?__biz=MzI1NjYzMjU1Ng==&amp;mid=2247484232&amp;idx=1&amp;sn=5fbbcc3baf43dfe6e1231453476db3ed&amp;chksm=ea22f0cbdd5579dd18d4ff2c12bfb429df6fe10e1ccaf7b80d62983e19d16480d53499b798fd&amp;scene=21#wechat_redirect">欧奈尔RPS曲线的编制方法及常见问题解答（20170505）</a>

</ul>

<ul>
<li>
陶博士公众号

</ul>
<p>
<img src=../img/stock/TBS.png>
</p>
<pre>
郑重提醒：
陶博士没有其他公众号。
陶博士没有微博。微博上复制陶博士公众号文章的，都是骗子。
陶博士没有任何收费学习群。陶博士没有任何股票交流群。
凡是用陶博士名义联系您做股票或者收费的任何事项，都是骗局。
请谨防骗子。请谨防骗子。请谨防骗子。
陶博士唯一的新浪博客是 http://blog.sina.com.cn/taoboshi
如果骗子胆敢继续抄袭陶博士文章，我们诅咒骗子去死！
免责声明：文中提到的个股，仅仅是案例所用，绝无推荐的意思，请勿据此操作。
</pre>

<p>
如何编制欧奈尔RPS曲线是本公众号的独门秘籍。本文重新综合整理了编制方法及常见问题解答。
</p>

<p>
目前大天朝A股的欧奈尔RPS曲线必须剔除新股的影响。
</p>

<p>
目前一年内上市交易的A股已经超过了300只，占所有A股数量的比重已经达10%。因为大天朝A股的奇葩新股上市交易制度，目前新股上市后，都是连续一字板，所有股票的一年或者半年涨幅的前10%，基本上都被新股占据了。所以，目前大天朝A股的欧奈尔RPS曲线必须剔除新股的影响。
</p>

<h2 id="toc_0.1">第一步，新建自定义板块:上市一年以上</h2>

<p>
第一步，新建一个“上市一年以上”的自定义板块。
</p>

<p>
我们首先需要建立一个排除上市时间不足一年股票的板块。这个板块我取名为：上市一年以上。通达信软件的菜单—工具—自定义板块设置—新建板块。下图中，点击确定，就建立了“上市一年以上”板块，但板块中的股票需要另外添加。
</p>

<p>
<img src=../img/stock/rps1.png width=500px>
</p>

<p>
参考百度：通达信怎样建立自己的股票板块:
<a href="http://jingyan.baidu.com/article/5225f26b51f729e6fb090879.html?st=2&amp;net_type=&amp;bd_page_type=1&amp;os=0&amp;rst=&amp;word=%E5%A6%82%E4%BD%95%E5%BB%BA%E7%AB%8B%E8%BF%9E%E6%8E%A5">http://jingyan.baidu.com/article/5225f26b51f729e6fb090879.html?st=2&amp;net_type=&amp;bd_page_type=1&amp;os=0&amp;rst=&amp;word=%E5%A6%82%E4%BD%95%E5%BB%BA%E7%AB%8B%E8%BF%9E%E6%8E%A5</a>
</p>

<p>
有两个途径将股票添加到这个“上市一年以上”板块。
</p>

<ul>
<li>
第一个途径:

</ul>

<p>
在通达信软件界面，输入：60，进入沪深A股板块，点击键盘右下角向右移动光标的键，直到找到“上市日期”这一列，点击一下，让所有A股按照顺序排列，然后输入“34”进行“数据导出”，选中”Excel文件“和“报表中所有数据“，导出后将一年内上市的股票删除，选中剩下的股票代码，复制到剪切板。
</p>

<p>
然后，导入“上市一年以上”这个板块（通达信软件的菜单—工具—自定义板块设置—上市一年以上—从文本中导入—粘贴—确定）。
</p>

<p>
<img src=../img/stock/rps2.png>
</p>

<p>
**我剔除了2016年6月1日及之后开始上市的股票，目前总共有2882只股票。
</p>

<p>
<img src=../img/stock/rps3.png>
</p>

<ul>
<li>
第二个途径：

</ul>

<p>
第二个是建立一个条件选股公式来选股到“上市一年以上”这个板块。条件选股公式很简单，如下：BARSCOUNT(C)&gt;N; N为参数，一般设为250
</p>

<p>
通达信软件，Control+F，条件选股公式—其他类型
</p>

<p>
<img src=../img/stock/rps4.png>
</p>

<p>
点击上图中的新建，进入下图：
</p>

<p>
<img src=../img/stock/rps5.png>
</p>

<p>
点击上图中的确定，即完成建立公式。然后选股到这样板块：通达信软件，Control+T，条件选股公式的下拉菜单中，选中：上市一年以上，选股范围为：沪深A股，然后点：加入条件，如下图：
</p>

<p>
<img src=../img/stock/rps6.png>
</p>
 

<p>
上图中，点击：选股入板块，再选中“上市一年以上”，确定，确定，最后选中2830只股票。这一步骤OVER。
</p>

<p>
<font color=red>
友情提醒：这个“上市一年以上“板块中的股票，需要手动更新，建议您一个月更新一次即可。
</font>
</p>

<h2 id="toc_0.2">第二步，新建一个技术指标的公式</h2>

<p>
建立一个小公式，命名为“EXTRS”，用来计算股票涨跌幅，N缺省值为250。
</p>
<pre>
EXTRS:(C-REF(C,N))/REF(C,N);
</pre>

<p>
通达信软件，Control+F，技术指标公式—其他类型
</p>

<p>
<img src=../img/stock/rps7.png>
</p>

<p>
点击上图中的新建，进入下图：
</p>

<p>
<img src=../img/stock/rps8.png>
</p>
 
<p>
点击上图中的确定，即完成建立公式。
</p>

<p>
<font color=red>
建议您无脑复制我的公式，如果您自己输入，有可能会少输入一点东东（例如右括号），而导致公司不能通过测试。
</font>
</p>

<h2 id="toc_0.3">第三步，建立扩展数据，对股票涨幅进行排序</h2>

<p>
通达信软件输入：.902，进入扩展数据管理器。 选中第1条扩展数据，如下图：
</p>

<p>
<img src=../img/stock/rps9.png>
</p>

<p>
点击上图中的修改，在扩展数据属性里首先设置数据1如下：
</p>

<ul>
<li>
技术指标公式选择新建的“EXTRS”指标

<li>
计算参数为120（对应半年期的RPS）

<li>
计算时段为本地所有数据

<li>
计算品种为“自定义板块”下面的“上市一年以上”这个板块

<li>
勾选“精确复权”及“生成横向排名数据”

<li>
排名方法为“0-1000归一化顺序”

</ul>

<p>
再重复上述步骤，在扩展数据属性里首先设置数据2，计算参数为250（对应一年期的RPS）。
</p>

<p>
<img src=../img/stock/rps10.png>
</p>
 
<h2 id="toc_0.4">第四步，再新建一个技术指标公式：股价相对强度RPS</h2>

<p>
用于在副图中添加RPS曲线。
</p>

<p>
通达信软件，Control+F，技术指标公式—其他类型—新建：
</p>

<p>
股价相对强度RPS, 出两条彩线的代码如下：
</p>

<p>
<img src=../img/stock/rps11.png>
</p>
<pre>
X:=EXTDATA_USER(1,0);{120天的RPS}
RPS120:X/10,LINETHICK2,COLORGREEN;
IF(RPS120&gt;=M,RPS120,DRAWNULL),LINETHICK2,COLORRED;
;

Y:=EXTDATA_USER(2,0);{250天的}
RPS250:Y/10,LINETHICK2,COLORWHITE;
IF(RPS250&gt;=M,RPS250,DRAWNULL),LINETHICK2,COLORRED;
</pre>

<p>
<font color=red>
M是参数，可以根据自己的偏好设为85-90，我个人偏好90。意思就是RPS大于90时，显示为红线。
</font>
</p>

<h2 id="toc_0.5">第五步，确保下载完整的历史数据</h2>

<p>
通达信软件的菜单—系统—盘后数据下载：请自行修改下载的开始时间
</p>

<p>
<font color=red><b>
切记1：首次要下载完整的历史数据！这个只需要操作一次。
切记2：需要每天存盘下载日线数据，并全部刷新两条扩展数据。这个操作每天收盘后，都需要进行一次，才能显示最新的RPS曲线。
</b></font>
</p>

<p>
<img src=../img/stock/rps12.png width=500px>
</p>

<p>
然后在股票K线界面输入：<code>RPS</code>。就出现两条RPS曲线了。
</p>

<p>
如某只股票的RPS曲线如下图，绿线为半年期RPS，白线为一年期RPS，超过90时，显示为红线，一目了然。
</p>

<h2 id="toc_0.6">常见问题及解答</h2>

<ul>
<li>
问：关于那个公式编辑。到extrs:(c-ref(c,n)/ref(c,n)。这里，说语句错误。我看你图片中语句的extrs变颜色，我的还是黑色，不是大小写问题，也没打错，就那几个字母，求解

<ul>
<li>
答：晕。请您认真一点。您的公式输错了。请无脑复制我的公式。

</ul>
</ul>

<ul>
<li>
问：陶博士，请教一下，我按你的方法设置RPS，为何大华股份11月27日的半年和一年的数值和你的不一样，明明都是按照你的方法设置了呀？

<ul>
<li>
答：可能是您的历史数据不全？请重新下载全部历史数据？然后刷新扩展数据。

</ul>
</ul>

<ul>
<li>
问：怎么刷新扩展数据？

<ul>
<li>
答：通达信软件输入：.902，进入扩展数据管理器。选中所有扩展数据，点击“全部刷新”。

</ul>
</ul>

<ul>
<li>
问：博士，为什么我的RPS曲线总是最后几天不显示？

<ul>
<li>
答：下载数据，每天刷新扩展数据。

</ul>
</ul>

<ul>
<li>
问：陶博士，您好。请问您用的通达信软件是付费的，我下载了免费的没法导入上市一年以上的自定义板块。请问还有没有其他的软件可以使用？谢谢

<ul>
<li>
答：我就是用的证券公司提供的免费软件。很多证券公司的软件都是以通达信为基础的，都可以实现。我没有使用过专门的通达信软件。

</ul>
</ul>

<ul>
<li>
问：如何快速查看所有RPS大于87的股票？

<ul>
<li>
答：可以在选股公式器里选择综合选股——技术指标选股——其他类型——RPS（条件设置选择RPS250大于87）建立股票池来观察。

</ul>
</ul>

<ul>
<li>
问：扩展数据管理器中，数据1和数据2的参数，会同步变化，点进去之后，显示是一样的。要么都是120，要么都是250。

<ul>
<li>
答：我的经验，只要扩展数据管理器中，显示的参数分别是120和250就可以了。如下图：

</ul>
</ul>

<p>
<img src=../img/stock/rps13.png> 
</p>
 
<ul>
<li>
问：RPS如何应用？

<ul>
<li>
答：本公众号对话框中仅回复：010，将向您推送“欧奈尔RPS应用举例”的文章，或者请您阅读欧奈尔的《笑傲股市》。 

</ul>
</ul>

<ul>
<li>
网友分享：

<ul>
<li>
陶博士，旧电脑设置RPS一直是一条线，怎么下载数据都不行。换了一台新电脑，同样的方法居然搞好了。所以有时候很多问题就是重启电脑或者换台电脑这么简单！上墙让他们看看

</ul>
</ul>

<ul>
<li>
网友分享：
<pre>
陶博士，您好！关于RPS有一位网友的问题：“关于RPS，发现一现象。
1.如剔除上市不足一年的新股，计算瞬间结束。如选沪深A股计算时间较长，能出现两条线。
此外选自定义板块（剔除上市不足一年的新股）计算结束后，点修改发现计算品种显示是空白。

2.如先选沪深A股，计算结束后删除，重建用自定义板块能出现两条。
如果用数据清理清除缓存中间数据或首次建数据，RPS只能一条线。

3原因可能出在软件上，表面接受自定义板块其实不接受，从计数刷新时间和建完后修改发现自定义板块是空白判断”，
我也遇到这个问题，后来我把“上市一周年”这个自定义板块的名字改成汉语拼音首字母"SSYZN"，然后系统就接收了，在扩展数据管理器窗口，点击刷新后就系统就会正常计算1-2分钟，然后RPS数值也就是剔除新股后的数值了。
</pre>

</ul>
 
<ul>
<li>
网友分享：

<ul>
<li>
帮博士解答好多人提的RPS设置问题：若不正常，建议删除原来的数据1和数据2,重新建立。我原来按第一篇文章建好后，再按第二篇剔除新股后的方法修改数据(没有删除后重建)，始终只一条线。

</ul>
</ul>

<ul>
<li>
网友分享：
<pre>
说点自己设置rps的经验。

1 之前看留言，很多人说120和250会同步变化，我也遇到这个情况了。

首先可以设置两个不同的参数，分别对应120和250，分别引用。不懂的可以照猫画虎，自己研究。
其次建议不用现在的通达信股票软件，重新从证券公司下载一个干净的软件。
我就是通过这两个方法解决的，现在的rps数值计算的几个股票，和陶博士公布的基本一致。

2 可以给rps参数增加一个颜色，比如大于87为黄色，大于95为红色，线条加粗。这样更加明显和直观。代码如下：

X:=EXTDATA_USER(1,0);
RPS120:X/10;
IF((X/10)&gt;=87,RPS120,DRAWNULL),LINETHICK1,COLORYELLOW;IF((X/10)&gt;=95,RPS120,DRAWNULL),LINETHICK2,COLORRED;
</pre>

</ul>

<p>
（本文完成于2017年5月5日）
</p>

</div>
<div id="footer">
<p>
&copy; 2012 - 2015 XStar
&nbsp;|&nbsp;<a href="http://code.google.com/p/vimwiki/" title="vimwiki">Powerby:Vimwiki</a>
&nbsp;|&nbsp;<a href="http://kwiki.github.io" title="丘迟">Style:丘迟</a>
&nbsp;|&nbsp;<a href="../index.html">首页</a>
&nbsp;|&nbsp;<a href="index.html">分类首页</a>
&nbsp;|&nbsp;<a href="../SiteMap.html">站点地图</a>
</p>
</div>
<script type="text/javascript">var vimwiki_rootpath="../";</script>
<script type="text/javascript" src="https://cdn.staticfile.org/jquery/2.0.0/jquery.min.js"></script>
<script type="text/javascript" src="../scripts/vimwiki.js"></script>
</body>
</html>

